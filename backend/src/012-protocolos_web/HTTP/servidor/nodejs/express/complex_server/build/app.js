"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function start_app(){app.listen(_config.config.server.PORT,_config.config.server.HOST,function(){(0,_printers.success)("App listening at "+_config.config.server.HOST+":"+_config.config.server.PORT)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=start_app;var _express=require("express"),_express2=_interopRequireDefault(_express),_path=require("path"),_path2=_interopRequireDefault(_path),_walk=require("walk"),_walk2=_interopRequireDefault(_walk),_config=require("./config"),_printers=require("./utils/printers"),app=(0,_express2.default)();app.set("ROOT_DIR",_config.config.ROOT_DIR),app.use("/static",_express2.default.static(_path2.default.join(__dirname,"assets","static"))),app.use(require("./router"));var ignore_folders=["templates","components","admin"],options={listeners:{directory:function(e,t,r){if(ignore_folders.indexOf(t.name)<0){var s=_path2.default.join(e.split("scenes")[1],t.name),a=_path2.default.join(e,t.name);app.use(s,_express2.default.static(a))}r()}}},walker=_walk2.default.walkSync(_path2.default.join(__dirname,"scenes"),options);"development"!=app.get("env")&&app.use(function(e,t,r,s){r.status(e.status||500),r.render("error",{message:e.message,error:{}})});